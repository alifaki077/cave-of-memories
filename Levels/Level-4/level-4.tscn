[gd_scene load_steps=25 format=2]

[ext_resource path="res://Assets/tileset.tres" type="TileSet" id=1]
[ext_resource path="res://Levels/FadeOut.tscn" type="PackedScene" id=2]
[ext_resource path="res://Assets/Fonts/MedievalSharp-Regular.ttf" type="DynamicFontData" id=3]
[ext_resource path="res://Levels/Level-3/level-3-ending.tscn" type="PackedScene" id=4]
[ext_resource path="res://Assets/Tiles/stone_stairs_down.png" type="Texture" id=5]
[ext_resource path="res://Player/GravityPlayer.tscn" type="PackedScene" id=6]
[ext_resource path="res://Assets/Texture/cave-bg.jpg" type="Texture" id=7]
[ext_resource path="res://Levels/Level.gd" type="Script" id=15]
[ext_resource path="res://Piece/Piece.tscn" type="PackedScene" id=16]
[ext_resource path="res://Player/Apple.tscn" type="PackedScene" id=17]
[ext_resource path="res://Levels/Torch.tscn" type="PackedScene" id=18]
[ext_resource path="res://Assets/Pieces/level-3/3.jpg" type="Texture" id=23]
[ext_resource path="res://Assets/Pieces/level-3/5.jpg" type="Texture" id=24]
[ext_resource path="res://Assets/Pieces/level-3/1.jpg" type="Texture" id=25]
[ext_resource path="res://Assets/Pieces/level-3/7.jpg" type="Texture" id=26]
[ext_resource path="res://Assets/Pieces/level-3/8.jpg" type="Texture" id=27]
[ext_resource path="res://Assets/Pieces/level-3/0.jpg" type="Texture" id=28]
[ext_resource path="res://Assets/Pieces/level-3/6.jpg" type="Texture" id=29]
[ext_resource path="res://Assets/Pieces/level-3/2.jpg" type="Texture" id=30]
[ext_resource path="res://Assets/Pieces/level-3/4.jpg" type="Texture" id=31]

[sub_resource type="DynamicFont" id=1]
size = 18
outline_size = 1
outline_color = Color( 0.0313726, 0.0313726, 0.0313726, 1 )
font_data = ExtResource( 3 )

[sub_resource type="DynamicFont" id=2]
size = 18
outline_size = 1
outline_color = Color( 0, 0, 0, 1 )
font_data = ExtResource( 3 )

[sub_resource type="DynamicFont" id=3]
size = 18
outline_size = 1
outline_color = Color( 0.0313726, 0.027451, 0.027451, 1 )
font_data = ExtResource( 3 )

[sub_resource type="RectangleShape2D" id=4]
extents = Vector2( 24, 24 )

[node name="Level-4" type="Node2D"]
script = ExtResource( 15 )
next_scene = ExtResource( 4 )

[node name="CanvasLayer" type="CanvasLayer" parent="."]
layer = -1

[node name="TextureRect" type="TextureRect" parent="CanvasLayer"]
margin_right = 40.0
margin_bottom = 40.0
rect_scale = Vector2( 1.76, 2.28 )
texture = ExtResource( 7 )
stretch_mode = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="floor-and-walls" type="TileMap" parent="."]
tile_set = ExtResource( 1 )
cell_size = Vector2( 32, 32 )
collision_layer = 2
collision_mask = 0
occluder_light_mask = 31
format = 1
tile_data = PoolIntArray( -65484, 1, 0, -65483, 1, 0, 0, 1, 0, 52, 1, 0, 53, 1, 0, 65536, 1, 0, 65588, 1, 0, 65589, 1, 0, 131072, 1, 0, 131124, 1, 0, 131125, 1, 0, 196608, 1, 0, 196660, 1, 0, 196661, 1, 0, 262144, 1, 0, 262196, 1, 0, 262197, 1, 0, 327680, 1, 0, 327702, 1, 0, 327703, 1, 0, 327704, 1, 0, 327705, 1, 0, 327706, 1, 0, 327732, 1, 0, 327733, 1, 0, 393216, 1, 0, 393268, 1, 0, 393269, 1, 0, 458752, 1, 0, 458804, 1, 0, 458805, 1, 0, 524288, 1, 0, 524317, 1, 0, 524318, 1, 0, 524319, 1, 0, 524320, 1, 0, 524321, 1, 0, 524340, 1, 0, 524341, 1, 0, 589824, 1, 0, 589876, 1, 0, 589877, 1, 0, 655360, 1, 0, 655412, 1, 0, 655413, 1, 0, 720896, 1, 0, 720933, 1, 0, 720934, 1, 0, 720935, 1, 0, 720936, 1, 0, 720948, 1, 0, 720949, 1, 0, 786432, 1, 0, 786484, 1, 0, 786485, 1, 0, 851968, 1, 0, 851998, 1, 0, 851999, 1, 0, 852000, 1, 0, 852001, 1, 0, 852002, 1, 0, 852020, 1, 0, 852021, 1, 0, 917504, 1, 0, 917556, 1, 0, 917557, 1, 0, 983040, 1, 0, 983092, 1, 0, 983093, 1, 0, 1048576, 1, 0, 1048577, 1, 0, 1048578, 1, 0, 1048579, 1, 0, 1048580, 1, 0, 1048581, 1, 0, 1048582, 1, 0, 1048583, 1, 0, 1048584, 1, 0, 1048585, 1, 0, 1048586, 1, 0, 1048587, 1, 0, 1048588, 1, 0, 1048589, 1, 0, 1048590, 1, 0, 1048591, 1, 0, 1048592, 1, 0, 1048593, 1, 0, 1048594, 1, 0, 1048595, 1, 0, 1048596, 1, 0, 1048597, 1, 0, 1048598, 1, 0, 1048599, 1, 0, 1048600, 1, 0, 1048601, 1, 0, 1048602, 1, 0, 1048603, 1, 0, 1048604, 1, 0, 1048605, 1, 0, 1048606, 1, 0, 1048607, 1, 0, 1048608, 1, 0, 1048609, 1, 0, 1048610, 1, 0, 1048611, 1, 0, 1048612, 1, 0, 1048613, 1, 0, 1048614, 1, 0, 1048615, 1, 0, 1048616, 1, 0, 1048617, 1, 0, 1048618, 1, 0, 1048619, 1, 0, 1048620, 1, 0, 1048621, 1, 0, 1048622, 1, 0, 1048623, 1, 0, 1048624, 1, 0, 1048625, 1, 0, 1048626, 1, 0, 1048627, 1, 0, 1048628, 1, 0, 1048629, 1, 0 )

[node name="Monsters" type="Node2D" parent="."]

[node name="Doors" type="Node2D" parent="."]

[node name="Bullets" type="Node2D" parent="."]

[node name="pieces" type="Node2D" parent="."]
visible = false

[node name="Piece1" parent="pieces" instance=ExtResource( 16 )]
position = Vector2( 2376, 336 )
id = "1"
asset = ExtResource( 28 )

[node name="Piece2" parent="pieces" instance=ExtResource( 16 )]
position = Vector2( 3304, -208 )
id = "2"
asset = ExtResource( 25 )

[node name="Piece3" parent="pieces" instance=ExtResource( 16 )]
position = Vector2( 1168, 288 )
id = "3"
asset = ExtResource( 30 )

[node name="Piece4" parent="pieces" instance=ExtResource( 16 )]
position = Vector2( 2744, 120 )
id = "4"
asset = ExtResource( 23 )

[node name="Piece5" parent="pieces" instance=ExtResource( 16 )]
position = Vector2( 2224, -88 )
id = "5"
asset = ExtResource( 31 )

[node name="Piece6" parent="pieces" instance=ExtResource( 16 )]
position = Vector2( 4384, 336 )
id = "6"
asset = ExtResource( 24 )

[node name="Piece7" parent="pieces" instance=ExtResource( 16 )]
position = Vector2( 4040, -160 )
id = "7"
asset = ExtResource( 29 )

[node name="Piece8" parent="pieces" instance=ExtResource( 16 )]
position = Vector2( 3744, -272 )
id = "8"
asset = ExtResource( 26 )

[node name="Piece9" parent="pieces" instance=ExtResource( 16 )]
position = Vector2( 3816, 344 )
id = "9"
asset = ExtResource( 27 )

[node name="Apples" type="Node2D" parent="."]
visible = false

[node name="Apple" parent="Apples" instance=ExtResource( 17 )]
position = Vector2( 2584, 280 )

[node name="Apple2" parent="Apples" instance=ExtResource( 17 )]
position = Vector2( 3600, -296 )

[node name="UI" type="CanvasLayer" parent="."]

[node name="p1" type="TextureRect" parent="UI"]
visible = false
margin_right = 40.0
margin_bottom = 40.0
rect_scale = Vector2( 2, 2 )
texture = ExtResource( 28 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="p2" type="TextureRect" parent="UI"]
visible = false
margin_left = 64.0
margin_right = 104.0
margin_bottom = 40.0
rect_scale = Vector2( 2, 2 )
texture = ExtResource( 25 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="p3" type="TextureRect" parent="UI"]
visible = false
margin_left = 128.0
margin_right = 168.0
margin_bottom = 40.0
rect_scale = Vector2( 2, 2 )
texture = ExtResource( 30 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="p4" type="TextureRect" parent="UI"]
visible = false
margin_top = 64.0
margin_right = 40.0
margin_bottom = 104.0
rect_scale = Vector2( 2, 2 )
texture = ExtResource( 23 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="p5" type="TextureRect" parent="UI"]
visible = false
margin_left = 64.0
margin_top = 64.0
margin_right = 104.0
margin_bottom = 104.0
rect_scale = Vector2( 2, 2 )
texture = ExtResource( 31 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="p6" type="TextureRect" parent="UI"]
visible = false
margin_left = 128.0
margin_top = 64.0
margin_right = 168.0
margin_bottom = 104.0
rect_scale = Vector2( 2, 2 )
texture = ExtResource( 24 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="p7" type="TextureRect" parent="UI"]
visible = false
margin_top = 128.0
margin_right = 40.0
margin_bottom = 168.0
rect_scale = Vector2( 2, 2 )
texture = ExtResource( 29 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="p8" type="TextureRect" parent="UI"]
visible = false
margin_left = 64.0
margin_top = 128.0
margin_right = 104.0
margin_bottom = 168.0
rect_scale = Vector2( 2, 2 )
texture = ExtResource( 26 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="p9" type="TextureRect" parent="UI"]
visible = false
margin_left = 128.0
margin_top = 128.0
margin_right = 168.0
margin_bottom = 168.0
rect_scale = Vector2( 2, 2 )
texture = ExtResource( 27 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="collected" type="Label" parent="UI"]
margin_left = 16.0
margin_top = 201.059
margin_right = 151.0
margin_bottom = 215.059
custom_fonts/font = SubResource( 1 )
text = "Collected Pieces: 0/9"
uppercase = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="next-level-hint" type="Label" parent="UI"]
visible = false
margin_left = 16.0
margin_top = 224.0
margin_right = 197.0
margin_bottom = 238.0
custom_fonts/font = SubResource( 2 )
text = "you can now go to the door of next level"
uppercase = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="warn" type="Label" parent="UI"]
visible = false
margin_left = 520.0
margin_top = 584.0
margin_right = 947.0
margin_bottom = 605.0
custom_fonts/font = SubResource( 3 )
text = "Come back here after collecting all the pieces"
uppercase = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="TextureRect" type="TextureRect" parent="UI/warn"]
margin_left = -520.0
margin_top = -584.0
margin_right = 480.0
margin_bottom = -251.0
texture = ExtResource( 7 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="NextLevelDoor" type="Area2D" parent="."]
visible = false
position = Vector2( 4136, -280 )
__meta__ = {
"_edit_group_": true
}

[node name="Sprite" type="Sprite" parent="NextLevelDoor"]
texture = ExtResource( 5 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="NextLevelDoor"]
shape = SubResource( 4 )

[node name="FadeOut" parent="." instance=ExtResource( 2 )]
visible = false

[node name="GravityPlayer" parent="." instance=ExtResource( 6 )]
position = Vector2( 608, 496 )

[node name="torches" type="Node2D" parent="."]
visible = false

[node name="Torch" parent="torches" instance=ExtResource( 18 )]
position = Vector2( 256, 488 )

[node name="Torch3" parent="torches" instance=ExtResource( 18 )]
position = Vector2( 1520, 120 )

[node name="Torch2" parent="torches" instance=ExtResource( 18 )]
position = Vector2( 792, 1104 )

[node name="Torch4" parent="torches" instance=ExtResource( 18 )]
position = Vector2( 784, 422.941 )

[node name="Torch5" parent="torches" instance=ExtResource( 18 )]
position = Vector2( 2232, 520 )
[connection signal="body_entered" from="NextLevelDoor" to="." method="_on_NextLevelDoor_body_entered"]
[connection signal="body_exited" from="NextLevelDoor" to="." method="_on_NextLevelDoor_body_exited"]
